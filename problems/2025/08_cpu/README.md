## Задание

Реализация конвейерного 2-стадийного (IPC=1) RISC-V CPU с поддержкой всех инструкций RV32I (кроме служебных) и возможностью вывода на 7-сегментный дисплей через MMIO.

## Отчет

### Многотактная реализация

```
+-------------------------------------------------------------------------------------+
; Flow Summary                                                                        ;
+------------------------------------+------------------------------------------------+
; Quartus Prime Version              ; 23.1std.1 Build 993 05/14/2024 SC Lite Edition ;
; Family                             ; Cyclone IV E                                   ;
; Device                             ; EP4CE15F23C8                                   ;
; Timing Models                      ; Final                                          ;
; Total logic elements               ; 2,972 / 15,408 ( 19 % )                    	  ;
; Total registers                    ; 1063                                       	  ;
; Total pins                         ; 6 / 344 ( 2 % )                                ;
; Total memory bits                  ; 16,384 / 516,096 ( 3 % )                       ;
; Embedded Multiplier 9-bit elements ; 0 / 112 ( 0 % )                                ;
; Total PLLs                         ; 0 / 4 ( 0 % )                                  ;
+------------------------------------+------------------------------------------------+
+------------------------------------------------+
; Slow 1200mV 0C Model Fmax Summary              ;
+----------+-----------------+------------+------+
; Fmax     ; Restricted Fmax ; Clock Name ; Note ;
+----------+-----------------+------------+------+
; 39.9 MHz ; 39.9 MHz        ; CLK        ;      ;
+----------+-----------------+------------+------+
```

### Конвейерная реализация

```
+-------------------------------------------------------------------------------------+
; Flow Summary                                                                        ;
+------------------------------------+------------------------------------------------+
; Quartus Prime Version              ; 23.1std.1 Build 993 05/14/2024 SC Lite Edition ;
; Family                             ; Cyclone IV E                                   ;
; Device                             ; EP4CE15F23C8                                   ;
; Timing Models                      ; Final                                          ;
; Total logic elements               ; 2,998 / 15,408 ( 19 % )                    	  ;
; Total registers                    ; 1161                                       	  ;
; Total pins                         ; 6 / 344 ( 2 % )                                ;
; Total memory bits                  ; 16,384 / 516,096 ( 3 % )                       ;
; Embedded Multiplier 9-bit elements ; 0 / 112 ( 0 % )                                ;
; Total PLLs                         ; 0 / 4 ( 0 % )                                  ;
+------------------------------------+------------------------------------------------+
+------------------------------------------------+
; Slow 1200mV 0C Model Fmax Summary              ;
+----------+-----------------+------------+------+
; Fmax     ; Restricted Fmax ; Clock Name ; Note ;
+----------+-----------------+------------+------+
; 43.4 MHz ; 43.4 MHz        ; CLK        ;      ;
+----------+-----------------+------------+------+
```

### Конвейерная реализация, оптимизация критического пути

```
+-------------------------------------------------------------------------------------+
; Flow Summary                                                                        ;
+------------------------------------+------------------------------------------------+
; Quartus Prime Version              ; 23.1std.1 Build 993 05/14/2024 SC Lite Edition ;
; Family                             ; Cyclone IV E                                   ;
; Device                             ; EP4CE15F23C8                                   ;
; Timing Models                      ; Final                                          ;
; Total logic elements               ; 3,055 / 15,408 ( 20 % )                    	  ;
; Total registers                    ; 1191                                       	  ;
; Total pins                         ; 6 / 344 ( 2 % )                                ;
; Total memory bits                  ; 16,384 / 516,096 ( 3 % )                       ;
; Embedded Multiplier 9-bit elements ; 0 / 112 ( 0 % )                                ;
; Total PLLs                         ; 0 / 4 ( 0 % )                                  ;
+------------------------------------+------------------------------------------------+
+------------------------------------------------+
; Slow 1200mV 0C Model Fmax Summary              ;
+----------+-----------------+------------+------+
; Fmax     ; Restricted Fmax ; Clock Name ; Note ;
+----------+-----------------+------------+------+
; 49.7 MHz ; 49.7 MHz        ; CLK        ;      ;
+----------+-----------------+------------+------+
```

### Конвейерная реализация, применены рекомендации от Timing Analyzer

```
+-------------------------------------------------------------------------------------+
; Flow Summary                                                                        ;
+------------------------------------+------------------------------------------------+
; Quartus Prime Version              ; 23.1std.1 Build 993 05/14/2024 SC Lite Edition ;
; Family                             ; Cyclone IV E                                   ;
; Device                             ; EP4CE15F23C8                                   ;
; Timing Models                      ; Final                                          ;
; Total logic elements               ; 3,258 / 15,408 ( 21 % )                    	  ;
; Total registers                    ; 1220                                       	  ;
; Total pins                         ; 6 / 344 ( 2 % )                                ;
; Total memory bits                  ; 16,384 / 516,096 ( 3 % )                       ;
; Embedded Multiplier 9-bit elements ; 0 / 112 ( 0 % )                                ;
; Total PLLs                         ; 0 / 4 ( 0 % )                                  ;
+------------------------------------+------------------------------------------------+
+------------------------------------------------+
; Slow 1200mV 0C Model Fmax Summary              ;
+----------+-----------------+------------+------+
; Fmax     ; Restricted Fmax ; Clock Name ; Note ;
+----------+-----------------+------------+------+
; 55.5 MHz ; 55.5 MHz        ; CLK        ;      ;
+----------+-----------------+------------+------+
```

### Конвейерная реализация, компиляция с режимом performance

```
+-------------------------------------------------------------------------------------+
; Flow Summary                                                                        ;
+------------------------------------+------------------------------------------------+
; Quartus Prime Version              ; 23.1std.1 Build 993 05/14/2024 SC Lite Edition ;
; Family                             ; Cyclone IV E                                   ;
; Device                             ; EP4CE15F23C8                                   ;
; Timing Models                      ; Final                                          ;
; Total logic elements               ; 3,101 / 15,408 ( 20 % )                    	  ;
; Total registers                    ; 1238                                       	  ;
; Total pins                         ; 6 / 344 ( 2 % )                                ;
; Total memory bits                  ; 16,384 / 516,096 ( 3 % )                       ;
; Embedded Multiplier 9-bit elements ; 0 / 112 ( 0 % )                                ;
; Total PLLs                         ; 0 / 4 ( 0 % )                                  ;
+------------------------------------+------------------------------------------------+
+------------------------------------------------+
; Slow 1200mV 0C Model Fmax Summary              ;
+----------+-----------------+------------+------+
; Fmax     ; Restricted Fmax ; Clock Name ; Note ;
+----------+-----------------+------------+------+
; 57.9 MHz ; 57.9 MHz        ; CLK        ;      ;
+----------+-----------------+------------+------+
```

### Выводы

Увеличение максимальной частоты конвейерной реализации относительно многотактной составляет 57.9 / 39.9 = 1.45 (+45%).
